---
import Landing from '@layouts/Landing.astro';

import { Card, CardRow } from '@components/mc';
import { BuildingItem } from '@components/items';

import Spacer from '@components/Spacer.astro';

import { getCollection } from 'astro:content';

const allBuildings = (await getCollection("buildings")).sort(
  (a, b) => Date.parse(b.data.date.toString()) - Date.parse(a.data.date.toString())
);
---

<Landing page_title="Постройки">
	<Card title="Постройки" mode="blank">
		{ allBuildings.map(item =>
			<CardRow>
				<BuildingItem {item} />
			</CardRow>
		) }
	</Card>

	<Spacer height="100" />
</Landing>
