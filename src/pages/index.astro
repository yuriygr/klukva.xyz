---
import Landing from '@layouts/Landing.astro';

import Card from '@components/Card.astro';
import CardMod from '@components/CardMod.astro';
import CardServer from '@components/CardServer';
import Spacer from '@components/Spacer.astro';

const title = 'ШизаЛенд'
const description = 'Мой маненький ванильный сервер <3'
const address = 'mc.shizo-land.ru'

const response = await fetch(`https://api.mcsrvstat.us/3/${address}`)
const serverState = await response.json()

// Plugins
import plugins from '@data/plugins.json';

---

<Landing title={title} description={description}>
	<Spacer />

	<Card>
		<CardServer client:only="react" address={address} defaultState={serverState} />
	</Card>

	<Card title="Рекомендуемые моды" mode="list">
		{ plugins.map(item =>
			<CardMod title={item.title} info={item.info} url={item.url} icon={item.icon} />
		)}
	</Card>

	<Card title="Последние новости">
		Деда кусили за письку!
	</Card>

</Landing>

<style>

</style>
